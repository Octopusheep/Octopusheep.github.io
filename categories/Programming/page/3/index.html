<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: Programming - octopusheep</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Octopusheep"><meta name="msapplication-TileImage" content="/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Octopusheep"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="octopusheep"><meta property="og:url" content="http://octopusheep.com/"><meta property="og:site_name" content="octopusheep"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://octopusheep.com/img/og_image.png"><meta property="article:author" content="octopusheep"><meta property="article:tag" content="octopusheep"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://octopusheep.com"},"headline":"octopusheep","image":["http://octopusheep.com/img/og_image.png"],"author":{"@type":"Person","name":"octopusheep"},"description":null}</script><link rel="alternate" href="/atom.xml" title="octopusheep" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-8637558686326141" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/octopus.jpg" alt="octopusheep" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/octopusheep"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">Programming</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-10-28T10:35:41.000Z" title="2019-10-28T10:35:41.000Z">2019-10-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-10-28T02:47:13.000Z" title="2019-10-28T02:47:13.000Z">2019-10-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Python/">Python</a></span><span class="level-item">a few seconds read (About 84 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/10/28/Web%20Scraping%20Note/">Web Scraping Note</a></h1><div class="content"><a id="more"></a>

<h2 id="Prerequisite预置条件"><a href="#Prerequisite预置条件" class="headerlink" title="Prerequisite预置条件"></a>Prerequisite预置条件</h2><ul>
<li>Requests</li>
<li>BeautifulSoup</li>
<li>lxml</li>
</ul>
<h2 id="Detail实现细节"><a href="#Detail实现细节" class="headerlink" title="Detail实现细节"></a>Detail实现细节</h2><h3 id="Data-Module数据保存模块"><a href="#Data-Module数据保存模块" class="headerlink" title="Data Module数据保存模块"></a>Data Module数据保存模块</h3><h4 id="Video-Module视频数据模块"><a href="#Video-Module视频数据模块" class="headerlink" title="Video Module视频数据模块"></a>Video Module视频数据模块</h4><p>‘Video’ class contains essential video information: title, link</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># model</span><br><span class="line">class Video(object):</span><br><span class="line"></span><br><span class="line">    def __init__(self, title, link):</span><br><span class="line">        self.title &#x3D; title</span><br><span class="line">        self.link &#x3D; link</span><br><span class="line"></span><br><span class="line">    def information(self):</span><br><span class="line">        SPLIT_LINE &#x3D; &#39;----------------------------------&#39;</span><br><span class="line">        print(&#39;%s\nvideo title: %s\nvideo link: %s\n%s&#39;</span><br><span class="line">              % (SPLIT_LINE, self.title, self.link, SPLIT_LINE))</span><br></pre></td></tr></table></figure>

<h3 id="Network-Model网络请求模块"><a href="#Network-Model网络请求模块" class="headerlink" title="Network Model网络请求模块"></a>Network Model网络请求模块</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-10-22T11:25:24.000Z" title="2019-10-22T11:25:24.000Z">2019-10-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-10-22T03:36:33.000Z" title="2019-10-22T03:36:33.000Z">2019-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">2 minutes read (About 281 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/10/22/Thinking%20in%20Hanoi%20Tower/">Thinking in Hanoi Tower</a></h1><div class="content"><h2 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h2><p>as we all know, there are three sticks in space and  one spectical stick have 64 round plates, which all plates follow the rules that bigger one in the bottom. the destination of this game is move all plate to another stick</p>
<h2 id="Note-by-myself"><a href="#Note-by-myself" class="headerlink" title="Note by myself"></a>Note by myself</h2><p>assuming that there just have 3 plates in Hanoi environment, three sticks be called A,B,C one by one and all 3 plates be stack in A stick.</p>
<p>so the move order like:</p>
<ol>
<li>A-&gt;B</li>
<li>A-&gt;C</li>
<li>B-&gt;C</li>
<li>A-&gt;B</li>
<li>C-&gt;A</li>
<li>C-&gt;B</li>
<li>A-&gt;B</div><a class="article-more button is-small is-size-7" href="/2019/10/22/Thinking%20in%20Hanoi%20Tower/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-09-05T20:32:01.000Z" title="2019-09-05T20:32:01.000Z">2019-09-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-09-08T11:18:09.000Z" title="2019-09-08T11:18:09.000Z">2019-09-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Python/">Python</a></span><span class="level-item">13 minutes read (About 2017 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/09/06/Python%20Studying%20Note/">Python Studying Note</a></h1><div class="content"><p>update at 7:10pm sep8 2019</p>
<h2 id="Install-Python"><a href="#Install-Python" class="headerlink" title="Install Python"></a>Install Python</h2><p>in macos we need to install python3 edition instead og python2 </p>
<p>download py3 in offical website and run <code>python3</code> in teminals</p>
<h2 id="First-python-program"><a href="#First-python-program" class="headerlink" title="First python program"></a>First python program</h2><p>remember the difference between command mode and python interactive mode</p>
<p>commadn mode:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mac:~ zhangyuyang$</span><br></pre></td></tr></table></figure>

<p>python interactive mode:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Mac:~ zhangyuyang$ python3</span><br><span class="line">Python 3.7.4 (v3.7.4:e09359112e, Jul  8 2019, 14:54:52)</span><br><span class="line">[Clang 6.0 (clang-600.0.57)] on darwin</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2019/09/06/Python%20Studying%20Note/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-08-29T10:24:15.000Z" title="2019-08-29T10:24:15.000Z">2019-08-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-08-29T04:11:50.000Z" title="2019-08-29T04:11:50.000Z">2019-08-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">5 minutes read (About 712 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/08/29/Insight%E5%8F%8ALB%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%BD%8D%E9%97%AE%E9%A2%98%E9%80%9A%E7%94%A8checklist/">Insight及LB模块定位问题通用checklist</a></h1><div class="content"><h2 id="Insight"><a href="#Insight" class="headerlink" title="Insight"></a>Insight</h2><h3 id="历史日志最近五分钟查询不到ES日志"><a href="#历史日志最近五分钟查询不到ES日志" class="headerlink" title="历史日志最近五分钟查询不到ES日志"></a>历史日志最近五分钟查询不到ES日志</h3><p>由于我们的VM配置为单核8G内存，对于收集整个集群的日志而言，VM的配置过低（内存较小）。在单节点ES上该问题暂时无法解决。</p>
<h3 id="部署ES后收集不到日志"><a href="#部署ES后收集不到日志" class="headerlink" title="部署ES后收集不到日志"></a>部署ES后收集不到日志</h3><p>该问题可能有两个不同的原因导致：</p>
<h4 id="ES节点磁盘写满，filebeat不再写入数据"><a href="#ES节点磁盘写满，filebeat不再写入数据" class="headerlink" title="ES节点磁盘写满，filebeat不再写入数据"></a>ES节点磁盘写满，filebeat不再写入数据</h4><p>ssh登陆Elasticsearch节点后台（假定节点192.168.133.32）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@192.168.133.32</span><br></pre></td></tr></table></figure>
<p>查看文件系统的磁盘空间占用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2019/08/29/Insight%E5%8F%8ALB%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%BD%8D%E9%97%AE%E9%A2%98%E9%80%9A%E7%94%A8checklist/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-08-08T08:59:44.000Z" title="2019-08-08T08:59:44.000Z">2019-08-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-08-08T01:11:27.000Z" title="2019-08-08T01:11:27.000Z">2019-08-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">3 minutes read (About 465 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/08/08/VM%20Password%20Free%20Instruction/">VM Password Free Instruction</a></h1><div class="content"><p>The people always say:</p>
<blockquote>
<p>两岸🐒声啼不住，密码输到手抽搐</p>
</blockquote>
<h2 id="Comprisal"><a href="#Comprisal" class="headerlink" title="Comprisal"></a>Comprisal</h2><p>if u wanna login VM and free for password, the prerequisite is <strong>sshpass</strong> and some mistery shell code</p>
<h2 id="Install-sshpass"><a href="#Install-sshpass" class="headerlink" title="Install sshpass"></a>Install sshpass</h2><h3 id="Download-sshpass"><a href="#Download-sshpass" class="headerlink" title="Download sshpass"></a>Download sshpass</h3><p>u can get sshpass in <a target="_blank" rel="noopener" href="https://sourceforge.net/projects/sshpass/files/sshpass/">sourceforge</a>, download it.</p>
<p><strong>Hint:</strong> the sshpass version is <code>sshpass-1.06.tar.gz</code> in this document.</p></div><a class="article-more button is-small is-size-7" href="/2019/08/08/VM%20Password%20Free%20Instruction/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-08-07T17:12:35.000Z" title="2019-08-07T17:12:35.000Z">2019-08-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-08-19T08:06:52.000Z" title="2019-08-19T08:06:52.000Z">2019-08-19</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Kafka/">Kafka</a></span><span class="level-item">6 minutes read (About 861 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/08/08/Kafka%20Dockerimage%20Instruction/">Kafka Dockerimage Instruction</a></h1><div class="content"><h2 id="Comprisal"><a href="#Comprisal" class="headerlink" title="Comprisal"></a>Comprisal</h2><p>kafaka needs Java(JDK 8) and zookeeper as prerequisite so we should prepare a docker container  within JDK8 </p>
<h2 id="Create-docker-container-with-JDK8"><a href="#Create-docker-container-with-JDK8" class="headerlink" title="Create docker container with JDK8"></a>Create docker container with JDK8</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d openjdk:8 </span><br></pre></td></tr></table></figure>

<p>then u get the docker container within JDK8 that runs in backgroud</p>
<p><strong>Hint:</strong> <code>docker ps</code>for find this container id,such as <code>26aa42c88586</code></p>
<h2 id="Download-Kafka"><a href="#Download-Kafka" class="headerlink" title="Download Kafka"></a>Download Kafka</h2><p>get latest kafaka tar in <a target="_blank" rel="noopener" href="https://www.apache.org/dyn/closer.cgi?path=/kafka/2.3.0/kafka_2.12-2.3.0.tgz">Kafka Offical website</a>, the kafka version in this doc is <code>kafka_2.12-2.3.0.tgz</code></p></div><a class="article-more button is-small is-size-7" href="/2019/08/08/Kafka%20Dockerimage%20Instruction/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-07-30T16:36:35.000Z" title="2019-07-30T16:36:35.000Z">2019-07-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-07-30T07:09:37.000Z" title="2019-07-30T07:09:37.000Z">2019-07-30</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Elasticsearch/">Elasticsearch</a></span><span class="level-item">2 minutes read (About 370 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/31/Elasticsearch%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93/">Elasticsearch部署实践相关总结</a></h1><div class="content"><h2 id="单节点ES的部署"><a href="#单节点ES的部署" class="headerlink" title="单节点ES的部署"></a>单节点ES的部署</h2><h3 id="（选做）创建network"><a href="#（选做）创建network" class="headerlink" title="（选做）创建network"></a>（选做）创建network</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create -d bridge elastic</span><br></pre></td></tr></table></figure>

<h3 id="部署Elasticsearch"><a href="#部署Elasticsearch" class="headerlink" title="部署Elasticsearch"></a>部署Elasticsearch</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">publish_host&#x3D;$(hostname -I | cut -d&#39; &#39; -f1) \</span><br><span class="line">docker run -d \</span><br><span class="line"> --name elasticsearch \</span><br><span class="line"> -e &quot;discovery.type&#x3D;single-node&quot; \</span><br><span class="line"> -e &quot;network.host&#x3D;0.0.0.0&quot; \</span><br><span class="line"> -e &quot;network.publish_host&#x3D;$&#123;publish_host&#125;&quot; \</span><br><span class="line"> -p 9200:9200 -p 9300:9300 \</span><br><span class="line"> --memory-reservation 4g --memory 6g \</span><br><span class="line"> --network&#x3D;elastic \</span><br><span class="line"> --restart on-failure \</span><br><span class="line"> cargo.caicloudprivatetest.com&#x2F;caicloud&#x2F;elasticsearch:6.5.4</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2019/07/31/Elasticsearch%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-07-26T10:12:45.000Z" title="2019-07-26T10:12:45.000Z">2019-07-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-07-26T08:32:52.000Z" title="2019-07-26T08:32:52.000Z">2019-07-26</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Kubernetes/">Kubernetes</a></span><span class="level-item">4 minutes read (About 532 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/26/Filebeat%E7%BB%84%E4%BB%B6%E5%AF%B9%E6%8E%A5Logstash%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/">Filebeat组件对接Logstash操作指南</a></h1><div class="content"><p>CPS系统通过filebeat组件输出日志，日志会经过kafka或logstash后，再输出给ES做持久化保存</p>
<h2 id="组件交互"><a href="#组件交互" class="headerlink" title="组件交互"></a>组件交互</h2><p><strong>Filebeat -&gt; Logsatsh -&gt; Elasticsearch</strong></p>
<p>因此要实现filebeat对接logstash，需要做两步重要操作：</p>
<ol>
<li>配置filebeat，使其日志输出到logstash</li>
<li>配置logstash，使其日志保存到elasticsearch</li>
</ol>
<h2 id="配置Filebeat"><a href="#配置Filebeat" class="headerlink" title="配置Filebeat"></a>配置Filebeat</h2><p>先前filebeat的日志是直接输出到ES中的，所以要修改为将日志输出到logstash中，因此需要修改filebeat的configmap</p>
<ul>
<li><p>进入CPS的控制节点后台</p>
<p>  <code>ssh root@192.168.130.101</code></p></div><a class="article-more button is-small is-size-7" href="/2019/07/26/Filebeat%E7%BB%84%E4%BB%B6%E5%AF%B9%E6%8E%A5Logstash%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-07-10T16:36:35.000Z" title="2019-07-10T16:36:35.000Z">2019-07-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-07-26T08:23:46.000Z" title="2019-07-26T08:23:46.000Z">2019-07-26</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Kubernetes/">Kubernetes</a></span><span class="level-item">2 minutes read (About 275 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/11/Kubernetes%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Kubernetes负载均衡学习笔记</a></h1><div class="content"><a id="more"></a>
<p>该内容总结自19/07/10韩欢乐老师所讲解的负载均衡内容</p>
<h1 id="基本知识"><a href="#基本知识" class="headerlink" title="基本知识"></a>基本知识</h1><p>最早负载均衡器是由硬件F5提供</p>
<p>两种经典的四层lb方式</p>
<ol>
<li>NAT</li>
<li>direct route</li>
</ol>
<p><img src="/images/60.png" alt="负载均衡器分发请求"></p>
<p>http与https规则的区别：四层之上多了TLS加密层，再到http</p>
<p>lb的实现方式；</p>
<ol>
<li>F5</li>
<li>HAProxy</li>
<li>nginx</li>
<li>ingress-nginx（包含web和反向代理）</li>
<li>ipvs（四层）</li>
<li>istio（适合微服务）</li>
</ol>
<h1 id="K8s负载均衡常用命令"><a href="#K8s负载均衡常用命令" class="headerlink" title="K8s负载均衡常用命令"></a>K8s负载均衡常用命令</h1><p>ssh root@ip 进入负载均衡器后台<br>docker ps|grep proxy|grep nginx 搜索docker中运行lb的容器id<br>docker container  exec -it  fc8e583fde24 bash 进入lb容器后台<br>cat nginx.conf |grep proxy_buffer 查看proxy_buffers的配置</p>
<p>kubectl get –all-namespaces loadbalancers 查看CPS当前的lb资源<br>kubectl get –all-namespaces configmap -owide 查看CPS当前的configmap资源<br>kubectl describe -n kube-system loadbalancer apiserver 查看lb配置</p>
<p>kubectl get ingress 查看http规则<br>kubectl get cm -n kube-system lb-2011287880-proxy-nginx-tcp -oyaml 查看tcp/udp规则</p>
<p>kubectl describe ingress domain-ingress</p>
<h1 id="负载均衡规则详情"><a href="#负载均衡规则详情" class="headerlink" title="负载均衡规则详情"></a>负载均衡规则详情</h1><p>kubectl get -n p1 ingress rule1 -oyaml</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-07-04T10:21:15.000Z" title="2019-07-04T10:21:15.000Z">2019-07-04</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-08-29T02:24:22.000Z" title="2019-08-29T02:24:22.000Z">2019-08-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Kubernetes/">Kubernetes</a></span><span class="level-item">18 minutes read (About 2703 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/04/Elasticsearch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Elasticsearch学习笔记</a></h1><div class="content"><p>本文翻译总结自<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-intro.html">Elasticsearch官方文档</a>，都是我自己翻译的yo！</p>
<blockquote>
<p>You know, for search(and analysis)</p>
</blockquote>
<h1 id="Elasticsearch简介"><a href="#Elasticsearch简介" class="headerlink" title="Elasticsearch简介"></a>Elasticsearch简介</h1><p>elasticsearch是一个分布式的搜索和分析引擎，它基于elasticstack的核心功能。</p>
<p>logstash和beats用于促成收集、整合、丰富你的数据，并将数据存储在elasticsearch中。</p>
<p>kibana能让你交互式的探索、使数据图形化、分享你的关于数据的看法、管理和监控stack。</p>
<p>elasticsearch是让索引、搜索、分析三大魔法发生的地方。</p>
<p>elasticsearch为所有类型的数据提供实时搜索和分析，无论你的数据是有结构还是无结构的文本、数值型数据、地理空间数据，es都能够有效的存储它们并建立索引，且索引的方式支持快速搜索。你可以做出远远超出例如（简单的数据取回、聚合数据以发现你的数据的模式和趋势）这些事。随着你的数据和访问量的增加，es的分布式特性可以让你的部署无缝的与其协作。</p>
<p>然而并不是所有的问题都是搜索型问题，es也提供速度和灵活性在许多不同的处理数据的案例中：</p>
<ul>
<li>为app或网站增加一个搜索盒(search box)</li>
<li>存储和分析日志、指标，保护事件数据的安全</li>
<li>使用机器学习来自动建模你的实时数据的行为</li>
<li>使用es作为存储引擎的自动化商业工作流程</li>
<li>通过es来管理、聚合、分析地理空间信息，作为地理信息系统(GIS)</li>
<li>通过es来存储和处理基因数据，作为生物信息的搜索工具</div><a class="article-more button is-small is-size-7" href="/2019/07/04/Elasticsearch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#more">Read more</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/Programming/page/2/">Previous</a></div><div class="pagination-next"><a href="/categories/Programming/page/4/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/Programming/">1</a></li><li><a class="pagination-link" href="/categories/Programming/page/2/">2</a></li><li><a class="pagination-link is-current" href="/categories/Programming/page/3/">3</a></li><li><a class="pagination-link" href="/categories/Programming/page/4/">4</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/categories/Programming/page/7/">7</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/dog.jpg" alt="Octopusheep"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Octopusheep</p><p class="is-size-6 is-block">Android Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth,Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">73</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">30</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/octopusheep" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/octopusheep"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="http://github.com/octopusheep"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="http://github.com/octopusheep"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="http://github.com/octopusheep"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.jianshu.com/u/704704d68647" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Jianshu</span></span><span class="level-right"><span class="level-item tag">www.jianshu.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">68</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Elasticsearch/"><span class="level-start"><span class="level-item">Elasticsearch</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Flutter/"><span class="level-start"><span class="level-item">Flutter</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Go/"><span class="level-start"><span class="level-item">Go</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">26</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Kafka/"><span class="level-start"><span class="level-item">Kafka</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Kubernetes/"><span class="level-start"><span class="level-item">Kubernetes</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Studying/"><span class="level-start"><span class="level-item">Studying</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Testing/"><span class="level-start"><span class="level-item">Testing</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-01T18:51:04.000Z">2020-12-01</time></p><p class="title"><a href="/2020/12/02/%E5%86%8D%E8%B0%88Go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/">再谈Go语言指针</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-01T02:22:03.000Z">2020-12-01</time></p><p class="title"><a href="/2020/12/01/Go%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E6%96%B9%E5%BC%8F%E6%B5%85%E6%9E%90/">Go语言函数参数传递方式浅析</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-29T19:17:14.000Z">2020-11-29</time></p><p class="title"><a href="/2020/11/30/Go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%B4%A8%E6%95%B0%E6%9F%A5%E8%AF%A2/">Go语言实现质数查询</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-29T11:03:11.000Z">2020-11-29</time></p><p class="title"><a href="/2020/11/29/Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E6%8C%87%E9%92%88%E6%B5%85%E6%9E%90/">Go语言中的指针浅析</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-10-25T22:13:38.000Z">2020-10-25</time></p><p class="title"><a href="/2020/10/26/NodeJs%E6%96%87%E4%BB%B6%E8%A1%A8%E6%BA%A2%E5%87%BA%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%8C%87%E5%8D%97/">NodeJs文件表溢出异常处理指南</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">October 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Elasticsearch/"><span class="tag">Elasticsearch</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FSM/"><span class="tag">FSM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Flutter/"><span class="tag">Flutter</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hanoi/"><span class="tag">Hanoi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">18</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Jira/"><span class="tag">Jira</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kafka/"><span class="tag">Kafka</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kubernetes/"><span class="tag">Kubernetes</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LDAP/"><span class="tag">LDAP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Logstash/"><span class="tag">Logstash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RxJava/"><span class="tag">RxJava</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Scraping/"><span class="tag">Scraping</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shadowsocks/"><span class="tag">Shadowsocks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sshpass/"><span class="tag">Sshpass</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sublime/"><span class="tag">Sublime</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Terminals/"><span class="tag">Terminals</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/V2Ray/"><span class="tag">V2Ray</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VI/"><span class="tag">VI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VPS/"><span class="tag">VPS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vultr/"><span class="tag">Vultr</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iTerm2/"><span class="tag">iTerm2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="tag">数据结构</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=Octopusheep&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="Octopusheep" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/octopus.jpg" alt="octopusheep" height="28"></a><p class="is-size-7"><span>&copy; 2020 octopusheep</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/octopusheep"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>